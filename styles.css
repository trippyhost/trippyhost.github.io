document.getElementById('uploadForm').addEventListener('submit', function(event) {
    event.preventDefault();
    
    const imageURL = document.getElementById('imageURL').value;

    if (imageURL) {
        fetch('https://api.github.com/repos/<YOUR_USERNAME>/<YOUR_REPOSITORY>/actions/workflows/upload-image.yml/dispatches', {
            method: 'POST',
            headers: {
                'Accept': 'application/vnd.github.v3+json',
                'Authorization': `token <YOUR_GITHUB_PERSONAL_ACCESS_TOKEN>`,
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                ref: 'main',
                inputs: {
                    image_url: imageURL
                }
            })
        })
        .then(response => response.json())
        .then(data => {
            const imageContainer = document.getElementById('imageContainer');
            const img = document.createElement('img');
            img.src = `https://github.com/<YOUR_USERNAME>/<YOUR_REPOSITORY>/raw/main/image.png`;
            imageContainer.appendChild(img);
            const link = document.createElement('a');
            link.href = img.src;
            link.textContent = "Shareable Link";
            link.target = "_blank";
            imageContainer.appendChild(link);
        });
    }
});
